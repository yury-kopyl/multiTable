(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _constants = require('./constants');

var CONST = _interopRequireWildcard(_constants);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ColResize = function ColResize(_ColResize2) {
	return function (_ColResize) {
		_inherits(_class, _ColResize);

		function _class($table, options) {
			_classCallCheck(this, _class);

			var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, $table, options));

			_this.$resize = undefined;
			_this.$resizeHandles = undefined;
			_this.operation = {};
			_this.$ownerDocument = $($table[0].ownerDocument);
			return _this;
		}

		_createClass(_class, [{
			key: 'initResize',
			value: function initResize() {
				this.createResize();
				this.wrapResize();
				this.onPointerHover();
				this.onPointerLeave();
				this.onPointerDown();
				this.onWindowResize();
			}
		}, {
			key: 'createResize',
			value: function createResize() {
				var _this2 = this;

				if (this.options.floatHead) {
					this.$floatWrap.css('width', this.ui.tableWidth + 'px');
				}

				this.$table.before('<div class="' + CONST.CLASS_RESIZE_TABLE + '"' + (this.options.colResize.isFixed ? ' style="width:' + this.ui.tableWidth + 'px"' : '') + '/>');
				this.$resize = this.$table.siblings('.' + CONST.CLASS_RESIZE_TABLE);

				this.$tableHeads.each(function (i, item) {
					var $item = $(item);
					var left = item.offsetLeft + item.offsetWidth;
					var noresize = $item.attr('data-noresize');

					if (_this2.options.colResize.isFixed || !_this2.options.colResize.isFixed && i !== _this2.$tableHeads.length - 1) {
						_this2.$resize.append('<div class="' + CONST.CLASS_RESIZE_HANDLE + '" style="left:' + left + 'px;"' + (noresize === '' ? ' ' + CONST.DATA_NORESIZE : '') + '/>');
					}
				});

				this.$resizeHandles = this.$resize.find('.' + CONST.CLASS_RESIZE_HANDLE);
			}
		}, {
			key: 'wrapResize',
			value: function wrapResize() {
				this.$resize.wrap('<div class="' + CONST.CLASS_RESIZE + '"/>');

				this.$resizeWrap = this.$resize.parent('.' + CONST.CLASS_RESIZE);
			}
		}, {
			key: 'onPointerHover',
			value: function onPointerHover() {
				this.$resizeHandles.on('mouseenter', function (event) {
					var $currentGrip = $(event.currentTarget);

					if ($currentGrip.is('.hover')) {
						return;
					}

					var timeout = setTimeout(function () {
						if ($currentGrip.is(':hover')) {
							$currentGrip.addClass('hover');
						}

						clearTimeout(timeout);
					}, 300);
				});
			}
		}, {
			key: 'onPointerLeave',
			value: function onPointerLeave() {
				this.$resizeHandles.on('mouseleave', function (event) {
					var $currentGrip = $(event.currentTarget);

					if (!$currentGrip.is('.hover')) {
						return;
					}

					$currentGrip.removeClass('hover');
				});
			}
		}, {
			key: 'onPointerDown',
			value: function onPointerDown() {
				var _this3 = this;

				this.$resizeHandles.on('mousedown touchstart', function (event) {
					// Only applies to left-click dragging
					if (event.which !== 1 || $(event.currentTarget).is('[data-noresize]')) {
						return;
					}

					_this3.$wrap.addClass(CONST.CLASS_WRAP_RESIZING);

					var $currentHandle = $(event.currentTarget);
					var currentIndex = $currentHandle.index();

					_this3.operation = {
						$currentHandle: $currentHandle,
						currentStartLeft: parseInt($currentHandle.css('left')),
						$currentColumn: _this3.$tableHeads.eq(currentIndex),
						currentIndex: currentIndex,
						$nextColumn: _this3.$tableHeads.eq(currentIndex + 1),
						nextIndex: currentIndex + 1,
						startX: _this3.getPointerX(event)
					};

					console.log(_this3.operation);

					_this3.onPointerMove();
					_this3.onPointerUp();
				});
			}
		}, {
			key: 'onPointerMove',
			value: function onPointerMove() {
				var _this4 = this;

				this.$ownerDocument.on('mousemove touchmove', function (event) {
					if (!_this4.operation) {
						return;
					}

					var difference = _this4.getPointerX(event) - _this4.operation.startX;
					if (difference === 0) {
						return;
					}

					if (_this4.operation.$currentColumn.attr('data-width') && difference < _this4.operation.$currentColumn.attr('data-width') - _this4.operation.$currentColumn.outerWidth() && difference < 0 || _this4.operation.$nextColumn.attr('data-width') && difference > _this4.operation.$nextColumn.outerWidth() - _this4.operation.$nextColumn.attr('data-width') && difference > 0 || !_this4.operation.$currentColumn.attr('data-width') && difference < _this4.options.colResize.minWidth - _this4.operation.$currentColumn.outerWidth() && difference < 0 || !_this4.operation.$nextColumn.attr('data-width') && difference > _this4.operation.$nextColumn.outerWidth() - _this4.options.colResize.minWidth && difference > 0) {
						return;
					}

					_this4.operation.diffrence = difference;
					var left = _this4.operation.currentStartLeft + difference;
					_this4.operation.$currentHandle.css('left', left + 'px');
				});
			}
		}, {
			key: 'onPointerUp',
			value: function onPointerUp() {
				var _this5 = this;

				this.$ownerDocument.on('mouseup', function () {
					if (!_this5.operation) {
						return;
					}

					if (_this5.operation.diffrence) {
						console.log(_this5.operation.$currentColumn.outerWidth(), _this5.operation.$nextColumn.outerWidth(), _this5.operation.diffrence);
						/* Get new current and next col width */
						var curWidth = _this5.operation.$currentColumn.outerWidth() + _this5.operation.diffrence;
						var nextWidth = _this5.operation.$nextColumn.outerWidth() - _this5.operation.diffrence;

						/* Change current and next column width */
						_this5.operation.$currentColumn.css('width', curWidth + 'px');
						_this5.operation.$nextColumn.css('width', nextWidth + 'px');

						/* Change width on floatHead class */
						if (_this5.options.floatHead) {
							_this5.changeColWidth(_this5.operation.currentIndex, curWidth, nextWidth);
						}

						/* If last handler move behind table */
						if (_this5.options.colResize.isFixed && !_this5.operation.$nextColumn.length) {
							var newWidth = _this5.ui.tableWidth + _this5.operation.diffrence;

							_this5.$floatWrap.css('width', newWidth + 'px');
							_this5.$table.css('width', newWidth + 'px');
							_this5.$resize.css('width', newWidth + 'px');

							_this5.ui.tableWidth = newWidth;

							if (_this5.$table.is('[' + CONST.DATA_COLUMNS_ID + ']') && _this5.options.store) {
								_this5.options.store.set(_this5.ui.storePrefix + '_tableWidth', newWidth);
							}
						}

						/* Save width in store */
						if (_this5.$table.is('[' + CONST.DATA_COLUMNS_ID + ']') && _this5.options.store) {
							_this5.options.store.set(_this5.ui.storePrefix + _this5.$tableHeads.eq(_this5.operation.currentIndex).attr(CONST.DATA_COLUMN_ID), curWidth);
							if (_this5.operation.$nextColumn.length) {
								_this5.options.store.set(_this5.ui.storePrefix + _this5.$tableHeads.eq(_this5.operation.nextIndex).attr(CONST.DATA_COLUMN_ID), nextWidth);
							}
						}
					}

					/* Remove event listener after mouse up */
					_this5.$ownerDocument.off('mouseup touchend mousemove touchmove');
					_this5.operation = null;
					_this5.$wrap.removeClass(CONST.CLASS_WRAP_RESIZING);
				});
			}
		}, {
			key: 'onWindowResize',
			value: function onWindowResize() {
				var _this6 = this;

				if (!this.options.colResize.isFixed) {
					this.$window.on('resize', function () {
						var resizeWidth = _this6.$wrap.outerWidth();
						if (_this6.ui.resizeWidth !== resizeWidth) {
							console.log('Changed');
							_this6.$resizeWrap.remove();
							_this6.$floatWrap.remove();
							_this6.$tableCols.removeAttr('style');
							_this6.$table.removeAttr('style');
							_this6.options.store.clear();
							_this6.initHead();
							_this6.initResize();
							_this6.ui.resizeWidth = resizeWidth;
						}
					});
				}
			}
		}, {
			key: 'getPointerX',
			value: function getPointerX(event) {
				if (event.type.indexOf('touch') === 0) {
					return (event.originalEvent.touches[0] || event.originalEvent.changedTouches[0]).pageX;
				}
				return event.pageX;
			}
		}]);

		return _class;
	}(_ColResize2);
};

exports.default = ColResize;

},{"./constants":2}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var DATA_API = exports.DATA_API = 'multiTable';

var DATA_COLUMNS_ID = exports.DATA_COLUMNS_ID = 'data-resizable-columns-id';
var DATA_COLUMN_ID = exports.DATA_COLUMN_ID = 'data-resizable-column-id';

var DATA_NORESIZE = exports.DATA_NORESIZE = 'data-noresize';
var DATA_WIDTH = exports.DATA_WIDTH = 'data-width';

var CLASS_WRAP = exports.CLASS_WRAP = 'mt';
var CLASS_WRAP_RESIZING = exports.CLASS_WRAP_RESIZING = 'mt_resizing';

var CLASS_TABLE_COL = exports.CLASS_TABLE_COL = 'mt-table__col';

var CLASS_FLOAT = exports.CLASS_FLOAT = 'mt-float';
var CLASS_FLOAT_TABLE = exports.CLASS_FLOAT_TABLE = 'mt-float__table';
var CLASS_FLOAT_COL = exports.CLASS_FLOAT_COL = 'mt-float__col';

var CLASS_RESIZE = exports.CLASS_RESIZE = 'mt-resize';
var CLASS_RESIZE_TABLE = exports.CLASS_RESIZE_TABLE = 'mt-resize__table';
var CLASS_RESIZE_HANDLE = exports.CLASS_RESIZE_HANDLE = 'mt-resize__handle';

},{}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _constants = require('./constants');

var CONST = _interopRequireWildcard(_constants);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Table = function () {
	function Table($table, options) {
		_classCallCheck(this, Table);

		this.initConfig(options);
		Table.validateOptions(options);

		this.$window = $(window);
		this.$wrap = undefined;
		this.$table = $table;
		this.ui = {
			wrapWidth: 0,
			wrapHeight: 0,
			tableWidth: 0,
			resizeWidth: 0,
			storePrefix: this.$table.attr(CONST.DATA_COLUMNS_ID) + '_'
		};
		this.$tableHeads = this.$table.find('> thead:first').find('tr:last-child').find('th');

		this.init();
	}

	_createClass(Table, [{
		key: 'initConfig',
		value: function initConfig(options) {
			var newOption = {
				floatHead: $.extend({}, Table.defaults.floatHead, options.floatHead),
				colResize: $.extend({}, Table.defaults.colResize, options.colResize)
			};

			this.options = $.extend({}, Table.defaults, newOption);
		}
	}, {
		key: 'init',
		value: function init() {
			if (this.options.colResize.isFixed) {
				this.$table.addClass('multiTable_fixed');
			}

			this.wrapTable();
			this.restoreColumnWidths();
		}
	}, {
		key: 'wrapTable',
		value: function wrapTable() {
			/* Wrap table */
			this.$table.wrap('<div class="' + CONST.CLASS_WRAP + '"/>');

			this.$wrap = this.$table.parent('.' + CONST.CLASS_WRAP);
			this.ui.tableWidth = parseFloat(this.$table.css('width'));
			this.ui.wrapHeight = parseFloat(this.$wrap.css('height'));
			this.ui.wrapWidth = parseFloat(this.$wrap.css('width'));
			this.ui.resizeWidth = this.ui.wrapWidth;

			/* Set table width */
			// this.$table.css('width', this.options.colResize.isFixed ? this.ui.tableWidth + 'px' : this.ui.wrapWidth);
		}
	}, {
		key: 'restoreColumnWidths',
		value: function restoreColumnWidths() {
			var _this = this;

			/* Get storage */
			var store = {};
			this.options.store.forEach(function (key, value) {
				if (key.match(_this.ui.storePrefix)) {
					store[key] = value;
				}
			});

			/* If storage not empty and storage length heads !== table length heads OR changed type of fixed */
			if (Object.keys(store).length !== this.$tableHeads.length + 2 && this.options.store || this.options.colResize.isFixed !== this.options.store.get(this.$table.attr(CONST.DATA_COLUMNS_ID) + '__isFixed')) {
				this.options.store.forEach(function (key) {
					if (key.match(_this.ui.storePrefix)) {
						delete store[key];
					}
				});
			}

			/* If was save storage */
			if (Object.keys(store).length) {
				/* Get width of column from storage and set it */
				this.$tableHeads.each(function (i, item) {
					var $item = $(item);
					var width = _this.options.store.get(_this.ui.storePrefix + _this.$tableHeads.eq(i).attr(CONST.DATA_COLUMN_ID));

					$item.css('width', width);
				});

				/* Set table width from storage */
				var tableWidth = this.options.store.get(this.ui.storePrefix + '_tableWidth');
				this.$table.css('width', tableWidth + 'px');
				this.ui.tableWidth = tableWidth;
			} else {
				/* Else table init first time */
				var restWidth = this.ui.tableWidth;
				var newTableWidth = 0;
				var countNotFixedHeads = this.$tableHeads.length;

				this.$tableHeads.each(function (i, item) {
					var $item = $(item);

					if ($item.is('[' + CONST.DATA_WIDTH + ']')) {
						restWidth -= $item.attr(CONST.DATA_WIDTH);
						countNotFixedHeads--;
					}
				});

				this.$tableHeads.each(function (i, item) {
					var $item = $(item);
					var width = $item.is('[' + CONST.DATA_WIDTH + ']') ? $item.attr('data-width') + 'px' : _this.options.colResize.isFixed ? $item.css('width') : restWidth / countNotFixedHeads + 'px';

					$item.css('width', width);
					newTableWidth += parseFloat(width);

					if (_this.$table.is('[' + CONST.DATA_COLUMNS_ID + ']') && _this.options.store) {
						_this.options.store.set(_this.ui.storePrefix + _this.$tableHeads.eq(i).attr(CONST.DATA_COLUMN_ID), parseFloat(width));
					}
				});

				this.options.store.set(this.ui.storePrefix + '_tableWidth', this.ui.tableWidth);
				this.options.store.set(this.ui.storePrefix + '_isFixed', this.options.colResize.isFixed);
				this.$table.css('width', newTableWidth + 'px');
				this.ui.tableWidth = newTableWidth;
			}
		}
	}], [{
		key: 'validateOptions',
		value: function validateOptions(options) {
			for (var key in options) {
				if (options.hasOwnProperty(key) && !Table.defaults.hasOwnProperty(key)) {
					throw new Error('option "' + key + '" does not exist');
				}

				if (options.hasOwnProperty(key) && _typeof(options[key]) !== Table.typeDefaults[key]) {
					throw new Error('option "' + key + '" haven\'t correct type: expected => ' + _typeof(options[key]) + ', actual => ' + Table.typeDefaults[key]);
				}
			}
		}
	}]);

	return Table;
}();

exports.default = Table;
;

Table.defaults = {
	floatHead: true,
	colResize: {
		isFixed: true,
		minWidth: 50
	},
	store: window.store,
	string: 'test',
	object: {},
	number: 100,
	fn: function fn() {
		return true;
	}
};

Table.typeDefaults = {
	floatHead: 'object',
	colResize: 'object',
	string: 'string',
	object: 'object',
	number: 'number',
	fn: 'function'
};

},{"./constants":2}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _constants = require('./constants');

var CONST = _interopRequireWildcard(_constants);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var FloatHead = function FloatHead(_FloatHead2) {
	return function (_FloatHead) {
		_inherits(_class, _FloatHead);

		function _class($table, options) {
			_classCallCheck(this, _class);

			var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, $table, options));

			_this.$float = undefined;
			_this.$floatWrap = undefined;
			return _this;
		}

		_createClass(_class, [{
			key: 'initHead',
			value: function initHead() {
				this.createFloat();
				this.wrapFloat();
				this.scrollFloatPage();
			}
		}, {
			key: 'createFloat',
			value: function createFloat() {
				/*let store = this.options.store.getAll();
    let storePrefix = `${this.$table.attr(CONST.DATA_COLUMNS_ID)}_`;*/

				this.$table.before('<table class="' + (CONST.CLASS_FLOAT_TABLE + (this.options.floatHead.tableClass ? ' ' + this.options.floatHead.tableClass : '')) + '"' + (this.options.colResize.isFixed ? ' style="width:' + this.ui.tableWidth + 'px;"' : '') + '/>');
				this.$float = this.$table.siblings('.' + CONST.CLASS_FLOAT_TABLE);
				/*this.$float.append(`<colgroup/>`);*/

				/*if ( Object.keys(store).length && this.options.store ) {
    	this.$tableHeads.each((i, item) => {
    		let $item = $(item);
    		let width = this.options.store.get( storePrefix + this.$tableHeads.eq(i).attr(CONST.DATA_COLUMN_ID) );
    				this.$float.find('colgroup').append(`<col class="${CONST.CLASS_FLOAT_COL}" style="width:${width}px;"/>`);
    	});
    } else {
    	this.$tableHeads.each((i, item) => {
    		let $item = $(item);
    		let itemWidth = !this.options.colResize.isFixed ? this.$wrap.outerWidth() / this.$tableHeads.length : $item.css('width');
    		let width = $item.is(`[${CONST.DATA_WIDTH}]`) ? `${$item.attr('data-width')}px` : `${itemWidth}px`;
    				this.$float.find('colgroup').append(`<col class="${CONST.CLASS_FLOAT_COL}" style="width:${width};"/>`);
    	});
    }*/
				this.$table.find('> thead').clone().appendTo(this.$float);

				this.$floatHeads = this.$float.find('> thead:first').find('tr:last-child').find('th');
			}
		}, {
			key: 'wrapFloat',
			value: function wrapFloat() {
				this.$float.wrap('<div class="' + CONST.CLASS_FLOAT + '"/>');

				this.$floatWrap = this.$float.parent('.' + CONST.CLASS_FLOAT);
			}
		}, {
			key: 'changeColWidth',
			value: function changeColWidth(index, currentWidth, nextWidth) {
				this.$floatHeads.eq(index).css('width', currentWidth);
				this.$floatHeads.eq(index + 1).css('width', nextWidth);
			}
		}, {
			key: 'scrollFloatPage',
			value: function scrollFloatPage() {
				var _this2 = this;

				this.$window.scroll(function () {
					if (_this2.$table.get(0).getBoundingClientRect().top < 0 && _this2.$table.get(0).getBoundingClientRect().top + _this2.ui.wrapHeight - _this2.$float.outerHeight() * 2 > 0) {
						_this2.$floatWrap.css('top', -_this2.$table.get(0).getBoundingClientRect().top + 'px');
					} else {
						_this2.$floatWrap.css('top', '0px');
					}
				});
			}
		}]);

		return _class;
	}(_FloatHead2);
};

exports.default = FloatHead;

},{"./constants":2}],5:[function(require,module,exports){
'use strict';

var _multiTable = require('./multiTable');

var _multiTable2 = _interopRequireDefault(_multiTable);

var _constants = require('./constants');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function ($) {
	if (!$) {
		throw new Error('$ is undefined');
	}
	$.fn.multiTable = function (optionsOrMethod) {
		for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
			args[_key - 1] = arguments[_key];
		}

		return this.each(function () {
			var $table = $(this);

			var api = $table.data(_constants.DATA_API);

			if (!api) {
				api = new _multiTable2.default($table, optionsOrMethod);
				$table.data(_constants.DATA_API, api);
			} else if (typeof optionsOrMethod === 'string') {
				var _api;

				return (_api = api)[optionsOrMethod].apply(_api, args);
			}
		});
	};

	$.multiTable = _multiTable2.default;
})($);

},{"./constants":2,"./multiTable":6}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _core = require('./core');

var _core2 = _interopRequireDefault(_core);

var _floatHead = require('./floatHead');

var _floatHead2 = _interopRequireDefault(_floatHead);

var _colResize = require('./colResize');

var _colResize2 = _interopRequireDefault(_colResize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var MultiTable = function (_ColResize) {
	_inherits(MultiTable, _ColResize);

	function MultiTable($table, options) {
		_classCallCheck(this, MultiTable);

		var _this = _possibleConstructorReturn(this, (MultiTable.__proto__ || Object.getPrototypeOf(MultiTable)).call(this, $table, options));

		_this.play();
		return _this;
	}

	_createClass(MultiTable, [{
		key: 'play',
		value: function play() {
			if (this.options.floatHead) {
				this.initHead();
			}

			if (this.options.colResize) {
				this.initResize();
			}
		}
	}]);

	return MultiTable;
}((0, _colResize2.default)((0, _floatHead2.default)(_core2.default)));

exports.default = MultiTable;
;

},{"./colResize":1,"./core":3,"./floatHead":4}]},{},[5])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29sUmVzaXplLmpzIiwic3JjL2NvbnN0YW50cy5qcyIsInNyYy9jb3JlLmpzIiwic3JjL2Zsb2F0SGVhZC5qcyIsInNyYy9pbmRleC5qcyIsInNyYy9tdWx0aVRhYmxlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7Ozs7Ozs7O0FBRUE7O0lBQVksSzs7Ozs7Ozs7OztBQUVaLElBQU0sWUFBWTtBQUFBO0FBQUE7O0FBQ2pCLGtCQUFZLE1BQVosRUFBb0IsT0FBcEIsRUFBNkI7QUFBQTs7QUFBQSwrR0FDdEIsTUFEc0IsRUFDZCxPQURjOztBQUc1QixTQUFLLE9BQUwsR0FBZSxTQUFmO0FBQ0EsU0FBSyxjQUFMLEdBQXNCLFNBQXRCO0FBQ0EsU0FBSyxTQUFMLEdBQWlCLEVBQWpCO0FBQ0EsU0FBSyxjQUFMLEdBQXNCLEVBQUUsT0FBTyxDQUFQLEVBQVUsYUFBWixDQUF0QjtBQU40QjtBQU81Qjs7QUFSZ0I7QUFBQTtBQUFBLGdDQVVKO0FBQ1osU0FBSyxZQUFMO0FBQ0EsU0FBSyxVQUFMO0FBQ0EsU0FBSyxjQUFMO0FBQ0EsU0FBSyxjQUFMO0FBQ0EsU0FBSyxhQUFMO0FBQ0EsU0FBSyxjQUFMO0FBQ0E7QUFqQmdCO0FBQUE7QUFBQSxrQ0FtQkY7QUFBQTs7QUFDZCxRQUFLLEtBQUssT0FBTCxDQUFhLFNBQWxCLEVBQThCO0FBQzdCLFVBQUssVUFBTCxDQUFnQixHQUFoQixDQUFvQixPQUFwQixFQUFnQyxLQUFLLEVBQUwsQ0FBUSxVQUF4QztBQUNBOztBQUVELFNBQUssTUFBTCxDQUFZLE1BQVosa0JBQWtDLE1BQU0sa0JBQXhDLFVBQThELEtBQUssT0FBTCxDQUFhLFNBQWIsQ0FBdUIsT0FBdkIsc0JBQWtELEtBQUssRUFBTCxDQUFRLFVBQTFELFdBQTRFLEVBQTFJO0FBQ0EsU0FBSyxPQUFMLEdBQWUsS0FBSyxNQUFMLENBQVksUUFBWixPQUF5QixN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LEVBQW9CLE9BQXBCLEVBQTZCO0FBQUE7O0FBQUEsc0hBQ3RCLE1BRHNCLEVBQ2QsT0FEYzs7QUFHNUIsUUFBSyxJQUFMO0FBSDRCO0FBSTVCOzs7O3lCQUVNO0FBQ04sT0FBSyxLQUFLLE9BQUwsQ0FBYSxTQUFsQixFQUE4QjtBQUM3QixTQUFLLFFBQUw7QUFDQTs7QUFFRCxPQUFLLEtBQUssT0FBTCxDQUFhLFNBQWxCLEVBQThCO0FBQzdCLFNBQUssVUFBTDtBQUNBO0FBQ0Q7Ozs7RUFmc0MseUJBQVUsd0NBQVYsQzs7a0JBQW5CLFU7QUFnQnBCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0ICogYXMgQ09OU1QgZnJvbSBcIi4vY29uc3RhbnRzXCI7XHJcblxyXG5jb25zdCBDb2xSZXNpemUgPSBDb2xSZXNpemUgPT4gY2xhc3MgZXh0ZW5kcyBDb2xSZXNpemUge1xyXG5cdGNvbnN0cnVjdG9yKCR0YWJsZSwgb3B0aW9ucykge1xyXG5cdFx0c3VwZXIoJHRhYmxlLCBvcHRpb25zKTtcclxuXHJcblx0XHR0aGlzLiRyZXNpemUgPSB1bmRlZmluZWQ7XHJcblx0XHR0aGlzLiRyZXNpemVIYW5kbGVzID0gdW5kZWZpbmVkO1xyXG5cdFx0dGhpcy5vcGVyYXRpb24gPSB7fTtcclxuXHRcdHRoaXMuJG93bmVyRG9jdW1lbnQgPSAkKCR0YWJsZVswXS5vd25lckRvY3VtZW50KTtcclxuXHR9XHJcblxyXG5cdGluaXRSZXNpemUoKSB7XHJcblx0XHR0aGlzLmNyZWF0ZVJlc2l6ZSgpO1xyXG5cdFx0dGhpcy53cmFwUmVzaXplKCk7XHJcblx0XHR0aGlzLm9uUG9pbnRlckhvdmVyKCk7XHJcblx0XHR0aGlzLm9uUG9pbnRlckxlYXZlKCk7XHJcblx0XHR0aGlzLm9uUG9pbnRlckRvd24oKTtcclxuXHRcdHRoaXMub25XaW5kb3dSZXNpemUoKTtcclxuXHR9XHJcblxyXG5cdGNyZWF0ZVJlc2l6ZSgpIHtcclxuXHRcdGlmICggdGhpcy5vcHRpb25zLmZsb2F0SGVhZCApIHtcclxuXHRcdFx0dGhpcy4kZmxvYXRXcmFwLmNzcygnd2lkdGgnLCBgJHt0aGlzLnVpLnRhYmxlV2lkdGh9cHhgKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLiR0YWJsZS5iZWZvcmUoYDxkaXYgY2xhc3M9XCIke0NPTlNULkNMQVNTX1JFU0laRV9UQUJMRX1cIiR7dGhpcy5vcHRpb25zLmNvbFJlc2l6ZS5pc0ZpeGVkID8gYCBzdHlsZT1cIndpZHRoOiR7dGhpcy51aS50YWJsZVdpZHRofXB4XCJgIDogJyd9Lz5gKTtcclxuXHRcdHRoaXMuJHJlc2l6ZSA9IHRoaXMuJHRhYmxlLnNpYmxpbmdzKGAuJHtDT05TVC5DTEFTU19SRVNJWkVfVEFCTEV9YCk7XHJcblxyXG5cdFx0dGhpcy4kdGFibGVIZWFkcy5lYWNoKChpLCBpdGVtKSA9PiB7XHJcblx0XHRcdGxldCAkaXRlbSBcdCA9ICQoaXRlbSk7XHJcblx0XHRcdGxldCBsZWZ0ICBcdCA9IGl0ZW0ub2Zmc2V0TGVmdCArIGl0ZW0ub2Zmc2V0V2lkdGg7XHJcblx0XHRcdGxldCBub3Jlc2l6ZSA9ICRpdGVtLmF0dHIoJ2RhdGEtbm9yZXNpemUnKTtcclxuXHJcblx0XHRcdGlmICggKHRoaXMub3B0aW9ucy5jb2xSZXNpemUuaXNGaXhlZCkgfHwgKCF0aGlzLm9wdGlvbnMuY29sUmVzaXplLmlzRml4ZWQgJiYgaSAhPT0gdGhpcy4kdGFibGVIZWFkcy5sZW5ndGggLSAxKSApIHtcclxuXHRcdFx0XHR0aGlzLiRyZXNpemUuYXBwZW5kKGA8ZGl2IGNsYXNzPVwiJHtDT05TVC5DTEFTU19SRVNJWkVfSEFORExFfVwiIHN0eWxlPVwibGVmdDoke2xlZnR9cHg7XCIke25vcmVzaXplID09PSAnJyA/ICcgJyArIENPTlNULkRBVEFfTk9SRVNJWkUgOiAnJ30vPmApO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLiRyZXNpemVIYW5kbGVzID0gdGhpcy4kcmVzaXplLmZpbmQoYC4ke0NPTlNULkNMQVNTX1JFU0laRV9IQU5ETEV9YCk7XHJcblx0fVxyXG5cclxuXHR3cmFwUmVzaXplKCkge1xyXG5cdFx0dGhpcy4kcmVzaXplLndyYXAoYDxkaXYgY2xhc3M9XCIke0NPTlNULkNMQVNTX1JFU0laRX1cIi8+YCk7XHJcblxyXG5cdFx0dGhpcy4kcmVzaXplV3JhcCA9IHRoaXMuJHJlc2l6ZS5wYXJlbnQoYC4ke0NPTlNULkNMQVNTX1JFU0laRX1gKTtcclxuXHR9XHJcblxyXG5cdG9uUG9pbnRlckhvdmVyKCkge1xyXG5cdFx0dGhpcy4kcmVzaXplSGFuZGxlcy5vbignbW91c2VlbnRlcicsIGV2ZW50ID0+IHtcclxuXHRcdFx0bGV0ICRjdXJyZW50R3JpcCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XHJcblxyXG5cdFx0XHRpZiggJGN1cnJlbnRHcmlwLmlzKCcuaG92ZXInKSApIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGxldCB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0aWYoICRjdXJyZW50R3JpcC5pcygnOmhvdmVyJykgKSB7XHJcblx0XHRcdFx0XHQkY3VycmVudEdyaXAuYWRkQ2xhc3MoJ2hvdmVyJyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcclxuXHRcdFx0fSwgMzAwKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0b25Qb2ludGVyTGVhdmUoKSB7XHJcblx0XHR0aGlzLiRyZXNpemVIYW5kbGVzLm9uKCdtb3VzZWxlYXZlJywgZXZlbnQgPT4ge1xyXG5cdFx0XHRsZXQgJGN1cnJlbnRHcmlwID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuXHJcblx0XHRcdGlmKCAhJGN1cnJlbnRHcmlwLmlzKCcuaG92ZXInKSApIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdCRjdXJyZW50R3JpcC5yZW1vdmVDbGFzcygnaG92ZXInKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0b25Qb2ludGVyRG93bigpIHtcclxuXHRcdHRoaXMuJHJlc2l6ZUhhbmRsZXMub24oJ21vdXNlZG93biB0b3VjaHN0YXJ0JywgZXZlbnQgPT4ge1xyXG5cdFx0XHQvLyBPbmx5IGFwcGxpZXMgdG8gbGVmdC1jbGljayBkcmFnZ2luZ1xyXG5cdFx0XHRpZihldmVudC53aGljaCAhPT0gMSB8fCAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmlzKCdbZGF0YS1ub3Jlc2l6ZV0nKSkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy4kd3JhcC5hZGRDbGFzcyhDT05TVC5DTEFTU19XUkFQX1JFU0laSU5HKTtcclxuXHJcblx0XHRcdGxldCAkY3VycmVudEhhbmRsZSA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XHJcblx0XHRcdGxldCBjdXJyZW50SW5kZXggPSAkY3VycmVudEhhbmRsZS5pbmRleCgpO1xyXG5cclxuXHRcdFx0dGhpcy5vcGVyYXRpb24gPSB7XHJcblx0XHRcdFx0JGN1cnJlbnRIYW5kbGU6ICAgJGN1cnJlbnRIYW5kbGUsXHJcblx0XHRcdFx0Y3VycmVudFN0YXJ0TGVmdDogcGFyc2VJbnQoJGN1cnJlbnRIYW5kbGUuY3NzKCdsZWZ0JykpLFxyXG5cdFx0XHRcdCRjdXJyZW50Q29sdW1uOiAgIHRoaXMuJHRhYmxlSGVhZHMuZXEoY3VycmVudEluZGV4KSxcclxuXHRcdFx0XHRjdXJyZW50SW5kZXg6XHQgIGN1cnJlbnRJbmRleCxcclxuXHRcdFx0XHQkbmV4dENvbHVtbjogICAgICB0aGlzLiR0YWJsZUhlYWRzLmVxKGN1cnJlbnRJbmRleCArIDEpLFxyXG5cdFx0XHRcdG5leHRJbmRleDpcdCAgICAgIGN1cnJlbnRJbmRleCArIDEsXHJcblx0XHRcdFx0c3RhcnRYOiAgICAgICAgICAgdGhpcy5nZXRQb2ludGVyWChldmVudClcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nKHRoaXMub3BlcmF0aW9uKTtcclxuXHJcblx0XHRcdHRoaXMub25Qb2ludGVyTW92ZSgpO1xyXG5cdFx0XHR0aGlzLm9uUG9pbnRlclVwKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdG9uUG9pbnRlck1vdmUoKSB7XHJcblx0XHR0aGlzLiRvd25lckRvY3VtZW50Lm9uKCdtb3VzZW1vdmUgdG91Y2htb3ZlJywgZXZlbnQgPT4ge1xyXG5cdFx0XHRpZiggIXRoaXMub3BlcmF0aW9uICkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IGRpZmZlcmVuY2UgPSB0aGlzLmdldFBvaW50ZXJYKGV2ZW50KSAtIHRoaXMub3BlcmF0aW9uLnN0YXJ0WDtcclxuXHRcdFx0aWYoIGRpZmZlcmVuY2UgPT09IDAgKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoICh0aGlzLm9wZXJhdGlvbi4kY3VycmVudENvbHVtbi5hdHRyKCdkYXRhLXdpZHRoJykgJiYgZGlmZmVyZW5jZSA8IHRoaXMub3BlcmF0aW9uLiRjdXJyZW50Q29sdW1uLmF0dHIoJ2RhdGEtd2lkdGgnKSAtIHRoaXMub3BlcmF0aW9uLiRjdXJyZW50Q29sdW1uLm91dGVyV2lkdGgoKSAmJiBkaWZmZXJlbmNlIDwgMCkgfHxcclxuXHRcdFx0XHQodGhpcy5vcGVyYXRpb24uJG5leHRDb2x1bW4uYXR0cignZGF0YS13aWR0aCcpICYmIGRpZmZlcmVuY2UgPiB0aGlzLm9wZXJhdGlvbi4kbmV4dENvbHVtbi5vdXRlcldpZHRoKCkgLSB0aGlzLm9wZXJhdGlvbi4kbmV4dENvbHVtbi5hdHRyKCdkYXRhLXdpZHRoJykgJiYgZGlmZmVyZW5jZSA+IDApIHx8XHJcblx0XHRcdFx0KCF0aGlzLm9wZXJhdGlvbi4kY3VycmVudENvbHVtbi5hdHRyKCdkYXRhLXdpZHRoJykgJiYgZGlmZmVyZW5jZSA8IHRoaXMub3B0aW9ucy5jb2xSZXNpemUubWluV2lkdGggLSB0aGlzLm9wZXJhdGlvbi4kY3VycmVudENvbHVtbi5vdXRlcldpZHRoKCkgJiYgZGlmZmVyZW5jZSA8IDApIHx8XHJcblx0XHRcdFx0KCF0aGlzLm9wZXJhdGlvbi4kbmV4dENvbHVtbi5hdHRyKCdkYXRhLXdpZHRoJykgJiYgZGlmZmVyZW5jZSA+IHRoaXMub3BlcmF0aW9uLiRuZXh0Q29sdW1uLm91dGVyV2lkdGgoKSAtIHRoaXMub3B0aW9ucy5jb2xSZXNpemUubWluV2lkdGggJiYgZGlmZmVyZW5jZSA+IDApICkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5vcGVyYXRpb24uZGlmZnJlbmNlID0gZGlmZmVyZW5jZTtcclxuXHRcdFx0bGV0IGxlZnQgPSB0aGlzLm9wZXJhdGlvbi5jdXJyZW50U3RhcnRMZWZ0ICsgZGlmZmVyZW5jZTtcclxuXHRcdFx0dGhpcy5vcGVyYXRpb24uJGN1cnJlbnRIYW5kbGUuY3NzKCdsZWZ0JywgYCR7bGVmdH1weGAgKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0b25Qb2ludGVyVXAoKSB7XHJcblx0XHR0aGlzLiRvd25lckRvY3VtZW50Lm9uKCdtb3VzZXVwJywgKCkgPT4ge1xyXG5cdFx0XHRpZiggIXRoaXMub3BlcmF0aW9uICkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCB0aGlzLm9wZXJhdGlvbi5kaWZmcmVuY2UgKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXHJcblx0XHRcdFx0XHR0aGlzLm9wZXJhdGlvbi4kY3VycmVudENvbHVtbi5vdXRlcldpZHRoKCksXHJcblx0XHRcdFx0XHR0aGlzLm9wZXJhdGlvbi4kbmV4dENvbHVtbi5vdXRlcldpZHRoKCksXHJcblx0XHRcdFx0XHR0aGlzLm9wZXJhdGlvbi5kaWZmcmVuY2VcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdC8qIEdldCBuZXcgY3VycmVudCBhbmQgbmV4dCBjb2wgd2lkdGggKi9cclxuXHRcdFx0XHRsZXQgY3VyV2lkdGggPSB0aGlzLm9wZXJhdGlvbi4kY3VycmVudENvbHVtbi5vdXRlcldpZHRoKCkgKyB0aGlzLm9wZXJhdGlvbi5kaWZmcmVuY2U7XHJcblx0XHRcdFx0bGV0IG5leHRXaWR0aCA9IHRoaXMub3BlcmF0aW9uLiRuZXh0Q29sdW1uLm91dGVyV2lkdGgoKSAtIHRoaXMub3BlcmF0aW9uLmRpZmZyZW5jZTtcclxuXHJcblx0XHRcdFx0LyogQ2hhbmdlIGN1cnJlbnQgYW5kIG5leHQgY29sdW1uIHdpZHRoICovXHJcblx0XHRcdFx0dGhpcy5vcGVyYXRpb24uJGN1cnJlbnRDb2x1bW4uY3NzKCd3aWR0aCcsIGAke2N1cldpZHRofXB4YCk7XHJcblx0XHRcdFx0dGhpcy5vcGVyYXRpb24uJG5leHRDb2x1bW4uY3NzKCd3aWR0aCcsIGAke25leHRXaWR0aH1weGApO1xyXG5cclxuXHRcdFx0XHQvKiBDaGFuZ2Ugd2lkdGggb24gZmxvYXRIZWFkIGNsYXNzICovXHJcblx0XHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuZmxvYXRIZWFkICkge1xyXG5cdFx0XHRcdFx0dGhpcy5jaGFuZ2VDb2xXaWR0aCh0aGlzLm9wZXJhdGlvbi5jdXJyZW50SW5kZXgsIGN1cldpZHRoLCBuZXh0V2lkdGgpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0LyogSWYgbGFzdCBoYW5kbGVyIG1vdmUgYmVoaW5kIHRhYmxlICovXHJcblx0XHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuY29sUmVzaXplLmlzRml4ZWQgJiYgIXRoaXMub3BlcmF0aW9uLiRuZXh0Q29sdW1uLmxlbmd0aCApIHtcclxuXHRcdFx0XHRcdGxldCBuZXdXaWR0aCA9IHRoaXMudWkudGFibGVXaWR0aCArIHRoaXMub3BlcmF0aW9uLmRpZmZyZW5jZTtcclxuXHJcblx0XHRcdFx0XHR0aGlzLiRmbG9hdFdyYXAuY3NzKCd3aWR0aCcsIGAke25ld1dpZHRofXB4YCk7XHJcblx0XHRcdFx0XHR0aGlzLiR0YWJsZS5jc3MoJ3dpZHRoJywgYCR7bmV3V2lkdGh9cHhgKTtcclxuXHRcdFx0XHRcdHRoaXMuJHJlc2l6ZS5jc3MoJ3dpZHRoJywgYCR7bmV3V2lkdGh9cHhgKTtcclxuXHJcblx0XHRcdFx0XHR0aGlzLnVpLnRhYmxlV2lkdGggPSBuZXdXaWR0aDtcclxuXHJcblx0XHRcdFx0XHRpZiAoIHRoaXMuJHRhYmxlLmlzKGBbJHtDT05TVC5EQVRBX0NPTFVNTlNfSUR9XWApICYmIHRoaXMub3B0aW9ucy5zdG9yZSApIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5vcHRpb25zLnN0b3JlLnNldCggdGhpcy51aS5zdG9yZVByZWZpeCArICdfdGFibGVXaWR0aCcsIG5ld1dpZHRoICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvKiBTYXZlIHdpZHRoIGluIHN0b3JlICovXHJcblx0XHRcdFx0aWYgKCB0aGlzLiR0YWJsZS5pcyhgWyR7Q09OU1QuREFUQV9DT0xVTU5TX0lEfV1gKSAmJiB0aGlzLm9wdGlvbnMuc3RvcmUgKSB7XHJcblx0XHRcdFx0XHR0aGlzLm9wdGlvbnMuc3RvcmUuc2V0KCB0aGlzLnVpLnN0b3JlUHJlZml4ICsgdGhpcy4kdGFibGVIZWFkcy5lcSh0aGlzLm9wZXJhdGlvbi5jdXJyZW50SW5kZXgpLmF0dHIoQ09OU1QuREFUQV9DT0xVTU5fSUQpLCBjdXJXaWR0aCApO1xyXG5cdFx0XHRcdFx0aWYgKCB0aGlzLm9wZXJhdGlvbi4kbmV4dENvbHVtbi5sZW5ndGggKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMub3B0aW9ucy5zdG9yZS5zZXQoIHRoaXMudWkuc3RvcmVQcmVmaXggKyB0aGlzLiR0YWJsZUhlYWRzLmVxKHRoaXMub3BlcmF0aW9uLm5leHRJbmRleCkuYXR0cihDT05TVC5EQVRBX0NPTFVNTl9JRCksIG5leHRXaWR0aCApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyogUmVtb3ZlIGV2ZW50IGxpc3RlbmVyIGFmdGVyIG1vdXNlIHVwICovXHJcblx0XHRcdHRoaXMuJG93bmVyRG9jdW1lbnQub2ZmKCdtb3VzZXVwIHRvdWNoZW5kIG1vdXNlbW92ZSB0b3VjaG1vdmUnKTtcclxuXHRcdFx0dGhpcy5vcGVyYXRpb24gPSBudWxsO1xyXG5cdFx0XHR0aGlzLiR3cmFwLnJlbW92ZUNsYXNzKENPTlNULkNMQVNTX1dSQVBfUkVTSVpJTkcpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRvbldpbmRvd1Jlc2l6ZSgpIHtcclxuXHRcdGlmICggIXRoaXMub3B0aW9ucy5jb2xSZXNpemUuaXNGaXhlZCApIHtcclxuXHRcdFx0dGhpcy4kd2luZG93Lm9uKCdyZXNpemUnLCAoKSA9PiB7XHJcblx0XHRcdFx0bGV0IHJlc2l6ZVdpZHRoID0gdGhpcy4kd3JhcC5vdXRlcldpZHRoKCk7XHJcblx0XHRcdFx0aWYgKCB0aGlzLnVpLnJlc2l6ZVdpZHRoICE9PSByZXNpemVXaWR0aCApIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdDaGFuZ2VkJyk7XHJcblx0XHRcdFx0XHR0aGlzLiRyZXNpemVXcmFwLnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0dGhpcy4kZmxvYXRXcmFwLnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0dGhpcy4kdGFibGVDb2xzLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XHJcblx0XHRcdFx0XHR0aGlzLiR0YWJsZS5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG5cdFx0XHRcdFx0dGhpcy5vcHRpb25zLnN0b3JlLmNsZWFyKCk7XHJcblx0XHRcdFx0XHR0aGlzLmluaXRIZWFkKCk7XHJcblx0XHRcdFx0XHR0aGlzLmluaXRSZXNpemUoKTtcclxuXHRcdFx0XHRcdHRoaXMudWkucmVzaXplV2lkdGggPSByZXNpemVXaWR0aDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0UG9pbnRlclgoZXZlbnQpIHtcclxuXHRcdGlmIChldmVudC50eXBlLmluZGV4T2YoJ3RvdWNoJykgPT09IDApIHtcclxuXHRcdFx0cmV0dXJuIChldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0gfHwgZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSkucGFnZVg7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZXZlbnQucGFnZVg7XHJcblx0fVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29sUmVzaXplOyIsImV4cG9ydCBjb25zdCBEQVRBX0FQSSA9ICdtdWx0aVRhYmxlJztcclxuXHJcbmV4cG9ydCBjb25zdCBEQVRBX0NPTFVNTlNfSUQgPSAnZGF0YS1yZXNpemFibGUtY29sdW1ucy1pZCc7XHJcbmV4cG9ydCBjb25zdCBEQVRBX0NPTFVNTl9JRCA9ICdkYXRhLXJlc2l6YWJsZS1jb2x1bW4taWQnO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY29uc3QgREFUQV9OT1JFU0laRSA9ICdkYXRhLW5vcmVzaXplJztcclxuZXhwb3J0IGNvbnN0IERBVEFfV0lEVEggPSAnZGF0YS13aWR0aCc7XHJcblxyXG5leHBvcnQgY29uc3QgQ0xBU1NfV1JBUCA9ICdtdCc7XHJcbmV4cG9ydCBjb25zdCBDTEFTU19XUkFQX1JFU0laSU5HID0gJ210X3Jlc2l6aW5nJztcclxuXHJcbmV4cG9ydCBjb25zdCBDTEFTU19UQUJMRV9DT0wgPSAnbXQtdGFibGVfX2NvbCc7XHJcblxyXG5leHBvcnQgY29uc3QgQ0xBU1NfRkxPQVQgPSAnbXQtZmxvYXQnO1xyXG5leHBvcnQgY29uc3QgQ0xBU1NfRkxPQVRfVEFCTEUgPSAnbXQtZmxvYXRfX3RhYmxlJztcclxuZXhwb3J0IGNvbnN0IENMQVNTX0ZMT0FUX0NPTCA9ICdtdC1mbG9hdF9fY29sJztcclxuXHJcbmV4cG9ydCBjb25zdCBDTEFTU19SRVNJWkUgPSAnbXQtcmVzaXplJztcclxuZXhwb3J0IGNvbnN0IENMQVNTX1JFU0laRV9UQUJMRSA9ICdtdC1yZXNpemVfX3RhYmxlJztcclxuZXhwb3J0IGNvbnN0IENMQVNTX1JFU0laRV9IQU5ETEUgPSAnbXQtcmVzaXplX19oYW5kbGUnOyIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCAqIGFzIENPTlNUIGZyb20gJy4vY29uc3RhbnRzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYmxlIHtcclxuXHRjb25zdHJ1Y3RvcigkdGFibGUsIG9wdGlvbnMpIHtcclxuXHRcdHRoaXMuaW5pdENvbmZpZyhvcHRpb25zKTtcclxuXHRcdFRhYmxlLnZhbGlkYXRlT3B0aW9ucyhvcHRpb25zKTtcclxuXHJcblx0XHR0aGlzLiR3aW5kb3cgPSAkKHdpbmRvdyk7XHJcblx0XHR0aGlzLiR3cmFwID0gdW5kZWZpbmVkO1xyXG5cdFx0dGhpcy4kdGFibGUgPSAkdGFibGU7XHJcblx0XHR0aGlzLnVpID0ge1xyXG5cdFx0XHR3cmFwV2lkdGg6ICAgMCxcclxuXHRcdFx0d3JhcEhlaWdodDogIDAsXHJcblx0XHRcdHRhYmxlV2lkdGg6ICAwLFxyXG5cdFx0XHRyZXNpemVXaWR0aDogMCxcclxuXHRcdFx0c3RvcmVQcmVmaXg6IGAke3RoaXMuJHRhYmxlLmF0dHIoQ09OU1QuREFUQV9DT0xVTU5TX0lEKX1fYFxyXG5cdFx0fTtcclxuXHRcdHRoaXMuJHRhYmxlSGVhZHMgPSB0aGlzLiR0YWJsZS5maW5kKCc+IHRoZWFkOmZpcnN0JykuZmluZCgndHI6bGFzdC1jaGlsZCcpLmZpbmQoJ3RoJyk7XHJcblxyXG5cdFx0dGhpcy5pbml0KCk7XHJcblx0fVxyXG5cclxuXHRpbml0Q29uZmlnKG9wdGlvbnMpIHtcclxuXHRcdGxldCBuZXdPcHRpb24gPSB7XHJcblx0XHRcdGZsb2F0SGVhZDogJC5leHRlbmQoe30sIFRhYmxlLmRlZmF1bHRzLmZsb2F0SGVhZCwgb3B0aW9ucy5mbG9hdEhlYWQpLFxyXG5cdFx0XHRjb2xSZXNpemU6ICQuZXh0ZW5kKHt9LCBUYWJsZS5kZWZhdWx0cy5jb2xSZXNpemUsIG9wdGlvbnMuY29sUmVzaXplKVxyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgVGFibGUuZGVmYXVsdHMsIG5ld09wdGlvbik7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgdmFsaWRhdGVPcHRpb25zKG9wdGlvbnMpIHtcclxuXHRcdGZvcihsZXQga2V5IGluIG9wdGlvbnMpIHtcclxuXHRcdFx0aWYgKCBvcHRpb25zLmhhc093blByb3BlcnR5KGtleSkgJiYgIShUYWJsZS5kZWZhdWx0cykuaGFzT3duUHJvcGVydHkoa2V5KSApIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYG9wdGlvbiBcIiR7a2V5fVwiIGRvZXMgbm90IGV4aXN0YCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHR5cGVvZiBvcHRpb25zW2tleV0gIT09IFRhYmxlLnR5cGVEZWZhdWx0c1trZXldICkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgb3B0aW9uIFwiJHtrZXl9XCIgaGF2ZW4ndCBjb3JyZWN0IHR5cGU6IGV4cGVjdGVkID0+ICR7dHlwZW9mIG9wdGlvbnNba2V5XX0sIGFjdHVhbCA9PiAke1RhYmxlLnR5cGVEZWZhdWx0c1trZXldfWApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpbml0KCkge1xyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuY29sUmVzaXplLmlzRml4ZWQgKSB7XHJcblx0XHRcdHRoaXMuJHRhYmxlLmFkZENsYXNzKCdtdWx0aVRhYmxlX2ZpeGVkJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy53cmFwVGFibGUoKTtcclxuXHRcdHRoaXMucmVzdG9yZUNvbHVtbldpZHRocygpO1xyXG5cdH1cclxuXHJcblx0d3JhcFRhYmxlKCkge1xyXG5cdFx0LyogV3JhcCB0YWJsZSAqL1xyXG5cdFx0dGhpcy4kdGFibGUud3JhcChgPGRpdiBjbGFzcz1cIiR7Q09OU1QuQ0xBU1NfV1JBUH1cIi8+YCk7XHJcblxyXG5cdFx0dGhpcy4kd3JhcCAgICAgICAgICA9IHRoaXMuJHRhYmxlLnBhcmVudChgLiR7Q09OU1QuQ0xBU1NfV1JBUH1gKTtcclxuXHRcdHRoaXMudWkudGFibGVXaWR0aCAgPSBwYXJzZUZsb2F0KHRoaXMuJHRhYmxlLmNzcygnd2lkdGgnKSk7XHJcblx0XHR0aGlzLnVpLndyYXBIZWlnaHQgID0gcGFyc2VGbG9hdCh0aGlzLiR3cmFwLmNzcygnaGVpZ2h0JykpO1xyXG5cdFx0dGhpcy51aS53cmFwV2lkdGggICA9IHBhcnNlRmxvYXQodGhpcy4kd3JhcC5jc3MoJ3dpZHRoJykpO1xyXG5cdFx0dGhpcy51aS5yZXNpemVXaWR0aCA9IHRoaXMudWkud3JhcFdpZHRoO1xyXG5cclxuXHRcdC8qIFNldCB0YWJsZSB3aWR0aCAqL1xyXG5cdFx0Ly8gdGhpcy4kdGFibGUuY3NzKCd3aWR0aCcsIHRoaXMub3B0aW9ucy5jb2xSZXNpemUuaXNGaXhlZCA/IHRoaXMudWkudGFibGVXaWR0aCArICdweCcgOiB0aGlzLnVpLndyYXBXaWR0aCk7XHJcblx0fVxyXG5cclxuXHRyZXN0b3JlQ29sdW1uV2lkdGhzKCkge1xyXG5cdFx0LyogR2V0IHN0b3JhZ2UgKi9cclxuXHRcdGxldCBzdG9yZSA9IHt9O1xyXG5cdFx0dGhpcy5vcHRpb25zLnN0b3JlLmZvckVhY2goKGtleSwgdmFsdWUpID0+IHtcclxuXHRcdFx0aWYgKCBrZXkubWF0Y2godGhpcy51aS5zdG9yZVByZWZpeCkgKSB7XHJcblx0XHRcdFx0c3RvcmVba2V5XSA9IHZhbHVlO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvKiBJZiBzdG9yYWdlIG5vdCBlbXB0eSBhbmQgc3RvcmFnZSBsZW5ndGggaGVhZHMgIT09IHRhYmxlIGxlbmd0aCBoZWFkcyBPUiBjaGFuZ2VkIHR5cGUgb2YgZml4ZWQgKi9cclxuXHRcdGlmICggKE9iamVjdC5rZXlzKHN0b3JlKS5sZW5ndGggIT09IHRoaXMuJHRhYmxlSGVhZHMubGVuZ3RoICsgMiAmJiB0aGlzLm9wdGlvbnMuc3RvcmUpIHx8ICh0aGlzLm9wdGlvbnMuY29sUmVzaXplLmlzRml4ZWQgIT09IHRoaXMub3B0aW9ucy5zdG9yZS5nZXQoYCR7dGhpcy4kdGFibGUuYXR0cihDT05TVC5EQVRBX0NPTFVNTlNfSUQpfV9faXNGaXhlZGApKSApIHtcclxuXHRcdFx0dGhpcy5vcHRpb25zLnN0b3JlLmZvckVhY2goa2V5ID0+IHtcclxuXHRcdFx0XHRpZiAoIGtleS5tYXRjaCh0aGlzLnVpLnN0b3JlUHJlZml4KSApIHtcclxuXHRcdFx0XHRcdGRlbGV0ZSBzdG9yZVtrZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyogSWYgd2FzIHNhdmUgc3RvcmFnZSAqL1xyXG5cdFx0aWYgKCBPYmplY3Qua2V5cyhzdG9yZSkubGVuZ3RoICkge1xyXG5cdFx0XHQvKiBHZXQgd2lkdGggb2YgY29sdW1uIGZyb20gc3RvcmFnZSBhbmQgc2V0IGl0ICovXHJcblx0XHRcdHRoaXMuJHRhYmxlSGVhZHMuZWFjaCgoaSwgaXRlbSkgPT4ge1xyXG5cdFx0XHRcdGxldCAkaXRlbSA9ICQoaXRlbSk7XHJcblx0XHRcdFx0bGV0IHdpZHRoID0gdGhpcy5vcHRpb25zLnN0b3JlLmdldCggdGhpcy51aS5zdG9yZVByZWZpeCArIHRoaXMuJHRhYmxlSGVhZHMuZXEoaSkuYXR0cihDT05TVC5EQVRBX0NPTFVNTl9JRCkgKTtcclxuXHJcblx0XHRcdFx0JGl0ZW0uY3NzKCd3aWR0aCcsIHdpZHRoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvKiBTZXQgdGFibGUgd2lkdGggZnJvbSBzdG9yYWdlICovXHJcblx0XHRcdGxldCB0YWJsZVdpZHRoID0gdGhpcy5vcHRpb25zLnN0b3JlLmdldCggdGhpcy51aS5zdG9yZVByZWZpeCArICdfdGFibGVXaWR0aCcpO1xyXG5cdFx0XHR0aGlzLiR0YWJsZS5jc3MoJ3dpZHRoJywgYCR7dGFibGVXaWR0aH1weGApO1xyXG5cdFx0XHR0aGlzLnVpLnRhYmxlV2lkdGggPSB0YWJsZVdpZHRoO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0LyogRWxzZSB0YWJsZSBpbml0IGZpcnN0IHRpbWUgKi9cclxuXHRcdFx0bGV0IHJlc3RXaWR0aCAgICAgPSB0aGlzLnVpLnRhYmxlV2lkdGg7XHJcblx0XHRcdGxldCBuZXdUYWJsZVdpZHRoID0gMDtcclxuXHRcdFx0bGV0IGNvdW50Tm90Rml4ZWRIZWFkcyA9IHRoaXMuJHRhYmxlSGVhZHMubGVuZ3RoO1xyXG5cclxuXHRcdFx0dGhpcy4kdGFibGVIZWFkcy5lYWNoKChpLCBpdGVtKSA9PiB7XHJcblx0XHRcdFx0bGV0ICRpdGVtID0gJChpdGVtKTtcclxuXHJcblx0XHRcdFx0aWYgKCAkaXRlbS5pcyhgWyR7Q09OU1QuREFUQV9XSURUSH1dYCkgKSB7XHJcblx0XHRcdFx0XHRyZXN0V2lkdGggLT0gJGl0ZW0uYXR0cihDT05TVC5EQVRBX1dJRFRIKTtcclxuXHRcdFx0XHRcdGNvdW50Tm90Rml4ZWRIZWFkcy0tO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR0aGlzLiR0YWJsZUhlYWRzLmVhY2goKGksIGl0ZW0pID0+IHtcclxuXHRcdFx0XHRsZXQgJGl0ZW0gPSAkKGl0ZW0pO1xyXG5cdFx0XHRcdGxldCB3aWR0aCA9ICRpdGVtLmlzKGBbJHtDT05TVC5EQVRBX1dJRFRIfV1gKSA/IGAkeyRpdGVtLmF0dHIoJ2RhdGEtd2lkdGgnKX1weGAgOiB0aGlzLm9wdGlvbnMuY29sUmVzaXplLmlzRml4ZWQgPyAkaXRlbS5jc3MoJ3dpZHRoJykgOiBgJHtyZXN0V2lkdGggLyBjb3VudE5vdEZpeGVkSGVhZHN9cHhgO1xyXG5cclxuXHRcdFx0XHQkaXRlbS5jc3MoJ3dpZHRoJywgd2lkdGgpO1xyXG5cdFx0XHRcdG5ld1RhYmxlV2lkdGggKz0gcGFyc2VGbG9hdCh3aWR0aCk7XHJcblxyXG5cdFx0XHRcdGlmICggdGhpcy4kdGFibGUuaXMoYFske0NPTlNULkRBVEFfQ09MVU1OU19JRH1dYCkgJiYgdGhpcy5vcHRpb25zLnN0b3JlICkge1xyXG5cdFx0XHRcdFx0dGhpcy5vcHRpb25zLnN0b3JlLnNldCggdGhpcy51aS5zdG9yZVByZWZpeCArIHRoaXMuJHRhYmxlSGVhZHMuZXEoaSkuYXR0cihDT05TVC5EQVRBX0NPTFVNTl9JRCksIHBhcnNlRmxvYXQod2lkdGgpICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHRoaXMub3B0aW9ucy5zdG9yZS5zZXQoIHRoaXMudWkuc3RvcmVQcmVmaXggKyAnX3RhYmxlV2lkdGgnLCB0aGlzLnVpLnRhYmxlV2lkdGggKTtcclxuXHRcdFx0dGhpcy5vcHRpb25zLnN0b3JlLnNldCggdGhpcy51aS5zdG9yZVByZWZpeCArICdfaXNGaXhlZCcsIHRoaXMub3B0aW9ucy5jb2xSZXNpemUuaXNGaXhlZCApO1xyXG5cdFx0XHR0aGlzLiR0YWJsZS5jc3MoJ3dpZHRoJywgYCR7bmV3VGFibGVXaWR0aH1weGApO1xyXG5cdFx0XHR0aGlzLnVpLnRhYmxlV2lkdGggPSBuZXdUYWJsZVdpZHRoO1xyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcblRhYmxlLmRlZmF1bHRzID0ge1xyXG5cdGZsb2F0SGVhZDogdHJ1ZSxcclxuXHRjb2xSZXNpemU6IHtcclxuXHRcdGlzRml4ZWQ6ICB0cnVlLFxyXG5cdFx0bWluV2lkdGg6IDUwXHJcblx0fSxcclxuXHRzdG9yZTogICAgIHdpbmRvdy5zdG9yZSxcclxuXHRzdHJpbmc6ICAgICd0ZXN0JyxcclxuXHRvYmplY3Q6ICAgIHt9LFxyXG5cdG51bWJlcjogICAgMTAwLFxyXG5cdGZuOiAgICAgICAgZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59O1xyXG5cclxuVGFibGUudHlwZURlZmF1bHRzID0ge1xyXG5cdGZsb2F0SGVhZDogJ29iamVjdCcsXHJcblx0Y29sUmVzaXplOiAnb2JqZWN0JyxcclxuXHRzdHJpbmc6ICAgICdzdHJpbmcnLFxyXG5cdG9iamVjdDogICAgJ29iamVjdCcsXHJcblx0bnVtYmVyOiAgICAnbnVtYmVyJyxcclxuXHRmbjogICAgICAgICdmdW5jdGlvbidcclxufTsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgKiBhcyBDT05TVCBmcm9tICcuL2NvbnN0YW50cyc7XHJcblxyXG5jb25zdCBGbG9hdEhlYWQgPSBGbG9hdEhlYWQgPT4gY2xhc3MgZXh0ZW5kcyBGbG9hdEhlYWQge1xyXG5cdGNvbnN0cnVjdG9yKCR0YWJsZSwgb3B0aW9ucykge1xyXG5cdFx0c3VwZXIoJHRhYmxlLCBvcHRpb25zKTtcclxuXHJcblx0XHR0aGlzLiRmbG9hdCA9IHVuZGVmaW5lZDtcclxuXHRcdHRoaXMuJGZsb2F0V3JhcCA9IHVuZGVmaW5lZDtcclxuXHR9XHJcblxyXG5cdGluaXRIZWFkKCkge1xyXG5cdFx0dGhpcy5jcmVhdGVGbG9hdCgpO1xyXG5cdFx0dGhpcy53cmFwRmxvYXQoKTtcclxuXHRcdHRoaXMuc2Nyb2xsRmxvYXRQYWdlKCk7XHJcblx0fVxyXG5cclxuXHRjcmVhdGVGbG9hdCgpIHtcclxuXHRcdC8qbGV0IHN0b3JlID0gdGhpcy5vcHRpb25zLnN0b3JlLmdldEFsbCgpO1xyXG5cdFx0bGV0IHN0b3JlUHJlZml4ID0gYCR7dGhpcy4kdGFibGUuYXR0cihDT05TVC5EQVRBX0NPTFVNTlNfSUQpfV9gOyovXHJcblxyXG5cdFx0dGhpcy4kdGFibGUuYmVmb3JlKGA8dGFibGUgY2xhc3M9XCIke0NPTlNULkNMQVNTX0ZMT0FUX1RBQkxFICsgKHRoaXMub3B0aW9ucy5mbG9hdEhlYWQudGFibGVDbGFzcyA/ICcgJyArIHRoaXMub3B0aW9ucy5mbG9hdEhlYWQudGFibGVDbGFzcyA6ICcnKX1cIiR7dGhpcy5vcHRpb25zLmNvbFJlc2l6ZS5pc0ZpeGVkID8gYCBzdHlsZT1cIndpZHRoOiR7dGhpcy51aS50YWJsZVdpZHRofXB4O1wiYCA6ICcnfS8+YCk7XHJcblx0XHR0aGlzLiRmbG9hdCA9IHRoaXMuJHRhYmxlLnNpYmxpbmdzKGAuJHtDT05TVC5DTEFTU19GTE9BVF9UQUJMRX1gKTtcclxuXHRcdC8qdGhpcy4kZmxvYXQuYXBwZW5kKGA8Y29sZ3JvdXAvPmApOyovXHJcblxyXG5cdFx0LyppZiAoIE9iamVjdC5rZXlzKHN0b3JlKS5sZW5ndGggJiYgdGhpcy5vcHRpb25zLnN0b3JlICkge1xyXG5cdFx0XHR0aGlzLiR0YWJsZUhlYWRzLmVhY2goKGksIGl0ZW0pID0+IHtcclxuXHRcdFx0XHRsZXQgJGl0ZW0gPSAkKGl0ZW0pO1xyXG5cdFx0XHRcdGxldCB3aWR0aCA9IHRoaXMub3B0aW9ucy5zdG9yZS5nZXQoIHN0b3JlUHJlZml4ICsgdGhpcy4kdGFibGVIZWFkcy5lcShpKS5hdHRyKENPTlNULkRBVEFfQ09MVU1OX0lEKSApO1xyXG5cclxuXHRcdFx0XHR0aGlzLiRmbG9hdC5maW5kKCdjb2xncm91cCcpLmFwcGVuZChgPGNvbCBjbGFzcz1cIiR7Q09OU1QuQ0xBU1NfRkxPQVRfQ09MfVwiIHN0eWxlPVwid2lkdGg6JHt3aWR0aH1weDtcIi8+YCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy4kdGFibGVIZWFkcy5lYWNoKChpLCBpdGVtKSA9PiB7XHJcblx0XHRcdFx0bGV0ICRpdGVtID0gJChpdGVtKTtcclxuXHRcdFx0XHRsZXQgaXRlbVdpZHRoID0gIXRoaXMub3B0aW9ucy5jb2xSZXNpemUuaXNGaXhlZCA/IHRoaXMuJHdyYXAub3V0ZXJXaWR0aCgpIC8gdGhpcy4kdGFibGVIZWFkcy5sZW5ndGggOiAkaXRlbS5jc3MoJ3dpZHRoJyk7XHJcblx0XHRcdFx0bGV0IHdpZHRoID0gJGl0ZW0uaXMoYFske0NPTlNULkRBVEFfV0lEVEh9XWApID8gYCR7JGl0ZW0uYXR0cignZGF0YS13aWR0aCcpfXB4YCA6IGAke2l0ZW1XaWR0aH1weGA7XHJcblxyXG5cdFx0XHRcdHRoaXMuJGZsb2F0LmZpbmQoJ2NvbGdyb3VwJykuYXBwZW5kKGA8Y29sIGNsYXNzPVwiJHtDT05TVC5DTEFTU19GTE9BVF9DT0x9XCIgc3R5bGU9XCJ3aWR0aDoke3dpZHRofTtcIi8+YCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSovXHJcblx0XHR0aGlzLiR0YWJsZS5maW5kKCc+IHRoZWFkJykuY2xvbmUoKS5hcHBlbmRUbyh0aGlzLiRmbG9hdCk7XHJcblxyXG5cdFx0dGhpcy4kZmxvYXRIZWFkcyA9IHRoaXMuJGZsb2F0LmZpbmQoJz4gdGhlYWQ6Zmlyc3QnKS5maW5kKCd0cjpsYXN0LWNoaWxkJykuZmluZCgndGgnKTtcclxuXHR9XHJcblxyXG5cdHdyYXBGbG9hdCgpIHtcclxuXHRcdHRoaXMuJGZsb2F0LndyYXAoYDxkaXYgY2xhc3M9XCIke0NPTlNULkNMQVNTX0ZMT0FUfVwiLz5gKTtcclxuXHJcblx0XHR0aGlzLiRmbG9hdFdyYXAgPSB0aGlzLiRmbG9hdC5wYXJlbnQoYC4ke0NPTlNULkNMQVNTX0ZMT0FUfWApO1xyXG5cdH1cclxuXHJcblx0Y2hhbmdlQ29sV2lkdGgoaW5kZXgsIGN1cnJlbnRXaWR0aCwgbmV4dFdpZHRoKSB7XHJcblx0XHR0aGlzLiRmbG9hdEhlYWRzLmVxKGluZGV4KS5jc3MoJ3dpZHRoJywgY3VycmVudFdpZHRoKTtcclxuXHRcdHRoaXMuJGZsb2F0SGVhZHMuZXEoaW5kZXggKyAxKS5jc3MoJ3dpZHRoJywgbmV4dFdpZHRoKTtcclxuXHR9XHJcblxyXG5cdHNjcm9sbEZsb2F0UGFnZSgpIHtcclxuXHRcdHRoaXMuJHdpbmRvdy5zY3JvbGwoKCkgPT4ge1xyXG5cdFx0XHRpZiAoIHRoaXMuJHRhYmxlLmdldCgwKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgPCAwICYmIHRoaXMuJHRhYmxlLmdldCgwKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB0aGlzLnVpLndyYXBIZWlnaHQgLSAodGhpcy4kZmxvYXQub3V0ZXJIZWlnaHQoKSAqIDIpID4gMCApIHtcclxuXHRcdFx0XHR0aGlzLiRmbG9hdFdyYXAuY3NzKCd0b3AnLCBgJHstdGhpcy4kdGFibGUuZ2V0KDApLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcH1weGApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuJGZsb2F0V3JhcC5jc3MoJ3RvcCcsIGAwcHhgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRmxvYXRIZWFkOyIsImltcG9ydCBNdWx0aVRhYmxlIGZyb20gJy4vbXVsdGlUYWJsZSc7XHJcbmltcG9ydCB7REFUQV9BUEl9IGZyb20gJy4vY29uc3RhbnRzJztcclxuXHJcbigkID0+IHtcclxuXHRpZiAoISQpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihgJCBpcyB1bmRlZmluZWRgKTtcclxuXHR9XHJcblx0JC5mbi5tdWx0aVRhYmxlID0gZnVuY3Rpb24gKG9wdGlvbnNPck1ldGhvZCwgLi4uYXJncykge1xyXG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGxldCAkdGFibGUgPSAkKHRoaXMpO1xyXG5cclxuXHRcdFx0bGV0IGFwaSA9ICR0YWJsZS5kYXRhKERBVEFfQVBJKTtcclxuXHJcblx0XHRcdGlmICghYXBpKSB7XHJcblx0XHRcdFx0YXBpID0gbmV3IE11bHRpVGFibGUoJHRhYmxlLCBvcHRpb25zT3JNZXRob2QpO1xyXG5cdFx0XHRcdCR0YWJsZS5kYXRhKERBVEFfQVBJLCBhcGkpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zT3JNZXRob2QgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0cmV0dXJuIGFwaVtvcHRpb25zT3JNZXRob2RdKC4uLmFyZ3MpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQkLm11bHRpVGFibGUgPSBNdWx0aVRhYmxlO1xyXG59KSgkKTsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgVGFibGUgZnJvbSAnLi9jb3JlJztcclxuaW1wb3J0IEZsb2F0SGVhZCBmcm9tICcuL2Zsb2F0SGVhZCc7XHJcbmltcG9ydCBDb2xSZXNpemUgZnJvbSAnLi9jb2xSZXNpemUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXVsdGlUYWJsZSBleHRlbmRzIENvbFJlc2l6ZShGbG9hdEhlYWQoVGFibGUpKSB7XHJcblx0Y29uc3RydWN0b3IoJHRhYmxlLCBvcHRpb25zKSB7XHJcblx0XHRzdXBlcigkdGFibGUsIG9wdGlvbnMpO1xyXG5cclxuXHRcdHRoaXMucGxheSgpO1xyXG5cdH1cclxuXHJcblx0cGxheSgpIHtcclxuXHRcdGlmICggdGhpcy5vcHRpb25zLmZsb2F0SGVhZCApIHtcclxuXHRcdFx0dGhpcy5pbml0SGVhZCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggdGhpcy5vcHRpb25zLmNvbFJlc2l6ZSApIHtcclxuXHRcdFx0dGhpcy5pbml0UmVzaXplKCk7XHJcblx0XHR9XHJcblx0fVxyXG59OyJdfQ==
